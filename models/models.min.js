export var Shapes=["var(--shape1)","var(--shape2)","var(--shape3)","var(--shape4)"];export var Colors=["var(--color1)","var(--color2)","var(--color3)"];export var BackgroundImages=["var(--bgImage1)","var(--bgImage2)","var(--bgImage3)","var(--bgImage4)"];export class RankModel{constructor(e={}){this.rank=void 0===e.rank?-1:e.rank,this.name=void 0===e.name?"Novice":e.name,this.levels=void 0===e.levels?10:e.levels,this.hue=void 0===e.hue?0:e.hue,this.emoji=void 0===e.emoji?"":e.emoji}}export class TutorialStepModel{constructor(e={}){this.title=null==e.title?"Title":e.title,this.description=null==e.description?"Description":e.description,this.unreveal=null!=e.unreveal&&e.unreveal,this.partial=null!=e.partial&&e.partial,this.describe=null!=e.describe&&e.describe,this.checkBoard=null!=e.checkBoard&&e.checkBoard}}export class ScoreModel{constructor(e={}){this.date=void 0===e.date?new Date:e.date,this.modeId=void 0===e.modeId?"":e.modeId,this.rankId=void 0===e.rankId?0:e.rankId,this.modeName=void 0===e.modeName?"":e.modeName,this.numberOfClears=void 0===e.numberOfClears?0:e.numberOfClears,this.numberOfPerfectClears=void 0===e.numberOfPerfectClears?0:e.numberOfPerfectClears,this.totalPossibleClears=void 0===e.totalPossibleClears?-1:e.totalPossibleClears,this.dailyDate=void 0===e.dailyDate?new Date:e.dailyDate,this.isCurrent=void 0!==e.isCurrent&&e.isCurrent,this.isDaily=void 0!==e.isDaily&&e.isDaily,this.value=void 0===e.value?-1:e.value,this.streak=void 0===e.streak?0:e.streak}}export class CurrencyModel{constructor(e={}){this.id=e.id??0,this.name=e.name??"",this.labor=e.labor??"",this.pluralName=e.pluralName??"",this.className=e.className??"",this.increment=e.increment??1e3,this.count=e.count??0,this.maxCount=e.maxCount??5e5,this.isEnabled=e.isEnabled??!1}}export class ActionItemModel{constructor(e={}){this.id=void 0===e.id?0:e.id,this.order=void 0===e.order?0:e.order,this.icon=void 0===e.icon?"":e.icon,this.name=void 0===e.name?"Reward":e.name+' <icon class="info"></icon> ',this.description=void 0===e.description?"":e.description,this.explanation=void 0===e.explanation?"":e.explanation,this.count=void 0===e.count?0:e.count,this.currency=void 0===e.currency?null:e.currency,this.maxCount=void 0===e.maxCount?10:e.maxCount,this.cost=void 0===e.cost?250:e.cost,this.isExpanded=void 0!==e.isExpanded&&e.isExpanded}}export class ThemeModel{constructor(e={}){this.name=null==e.name?"":e.name,this.color1=null==e.color1?"":e.color1,this.color2=null==e.color2?"":e.color2,this.color3=null==e.color3?"":e.color3,this.color3contrast=null==e.color3contrast?"white":e.color3contrast,this.darkPatternHSL=null==e.darkPatternHSL?"0, 0%, 0%":e.darkPatternHSL,this.darkBlendMode=null==e.darkBlendMode?"soft-light":e.darkBlendMode,this.darkPatternOpacity=null==e.darkPatternOpacity?1:e.darkPatternOpacity,this.isSelected=null!=e.isSelected&&e.isSelected}}export class PieceModel{constructor(e={}){this.shape=null==e.shape?"var(--shape1)":e.shape,this.color=null==e.color?"var(--color1)":e.color,this.backgroundImage=null==e.backgroundImage?"var(--bgImage1)":e.backgroundImage,this.isSelected=null!=e.isSelected&&e.isSelected,this.hasDropped=null!=e.hasDropped&&e.hasDropped,this.delay=null==e.delay?0:e.delay,this.nudge=null!=e.nudge&&e.nudge,this.isMatch=null!=e.isMatch&&e.isMatch,this.isFullMatch=null!=e.isFullMatch&&e.isFullMatch,this.description=null==e.description?"":e.description}}export class ModeModel{constructor(e={}){this.id=e.id,this.name=e.name,this.description=null==e.description?"This is a game mode.":e.description,this.isSelected=null!=e.isSelected&&e.isSelected,this.starttime=null==e.starttime?0:e.starttime,this.bonustime=null==e.bonustime?0:e.bonustime,this.highscores=null==e.highscores?[]:e.highscores,this.useBatThwap=null!=e.useBatThwap&&e.useBatThwap,this.endGameTitle=null==e.endGameTitle?"Game Over":e.endGameTitle,this.endGameConsolationMessage=null==e.endGameConsolationMessage?"":e.endGameConsolationMessage}}export class SingleLevelModel{constructor(e={}){this.me=null==e.me?new PieceModel({}):e.me,this.board=null==e.board?[]:e.board,this.completed=null!=e.completed&&e.completed}}export class AllLevelsModel{constructor(e={}){this.allLevelsSource=null==e.allLevelsSource?"":e.allLevelsSource,this.allLevels=null==e.allLevels?[]:e.allLevels,this.date=null==e.date?new Date:e.date}}export class Currency{Update(e,t){return note("Currency.Update() called"),e}}export function CreateAllLevelsSource(e=100){let t=[];for(let l=0;l<e;l++)t.push(CreateLevelSource());return t=t.join(""),t}export function CreateLevelSource(){let e=[];for(let t=0;t<17;t++){let t=getRandomInt(0,Shapes.length)+""+getRandomInt(0,Colors.length)+getRandomInt(0,BackgroundImages.length);e.push(t)}return e=e.join(""),e}export function ConstructAllLevels(e,t){t.allLevelsSource=e;var l=e.match(new RegExp(".{1,3}","g"));l.map((function(e,t){return t%17==0?l.slice(t,t+17):null})).filter((function(e){return e})).forEach(((e,l)=>{t.allLevels.push(ConstructLevel(e))}))}export function ConstructLevel(e,t=!1){t&&(e=e.match(new RegExp(".{1,3}","g")));let l=new SingleLevelModel({});const o=e[0].toString().split("");l.me=new PieceModel({shape:Shapes[o[0]],color:Colors[o[1]],backgroundImage:BackgroundImages[o[2]]});for(let t=1;t<e.length;t++){const o=e[t].toString().split("");let s=new PieceModel({shape:Shapes[o[0]],color:Colors[o[1]],backgroundImage:BackgroundImages[o[2]]}),a="",i=0;s.color===l.me.color&&(i++,a+="<b>color</b>"),s.shape===l.me.shape&&(a+="<b>shape</b>",i++),s.backgroundImage===l.me.backgroundImage&&(a+="<b>pattern</b>",i++),s.isMatch=i>1,s.isFullMatch=3===i,s.description=a,l.board.push(s)}return l}